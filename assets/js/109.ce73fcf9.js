(window.webpackJsonp=window.webpackJsonp||[]).push([[109],{791:function(t,e,s){"use strict";s.r(e);var a=s(10),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"_1-ç®€ä»‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-ç®€ä»‹"}},[t._v("ğŸŒ™")]),t._v(" 1.ç®€ä»‹")]),t._v(" "),s("p",[t._v("Reduxæ˜¯reactçŠ¶æ€ç®¡ç†å·¥å…·ï¼Œ è¿˜æœ‰å¦‚Fluxã€Refluxã€Mobx ç­‰å…¶ä»–çŠ¶æ€ç®¡ç†åº“å¯ä¾›é€‰æ‹©")]),t._v(" "),s("h1",{attrs:{id:"_2-store"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-store"}},[t._v("ğŸŒ™")]),t._v(" 2.Store")]),t._v(" "),s("p",[s("strong",[t._v("é¦–å…ˆåŒºåˆ†"),s("code",[t._v("state")]),t._v("ä¸"),s("code",[t._v("store")])]),t._v(":")]),t._v(" "),s("p",[s("code",[t._v("state")]),t._v(" æ˜¯åº”ç”¨çš„çŠ¶æ€ï¼Œä¸€èˆ¬æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæ™®é€šå¯¹è±¡")]),t._v(" "),s("p",[s("code",[t._v("store")]),t._v(" æ˜¯åº”ç”¨çŠ¶æ€ state çš„ç®¡ç†è€…ï¼ŒåŒ…å«ä¸‹åˆ—å››ä¸ªå‡½æ•°ï¼š")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("getState()")]),t._v(" # è·å–æ•´ä¸ª "),s("code",[t._v("state")])]),t._v(" "),s("li",[s("code",[t._v("dispatch(action)")]),t._v(" # â€» è§¦å‘ "),s("code",[t._v("state")]),t._v(" æ”¹å˜çš„ã€å”¯ä¸€é€”å¾„ã€‘â€»")]),t._v(" "),s("li",[s("code",[t._v("subscribe(listener)")]),t._v(" # æ‚¨å¯ä»¥ç†è§£æˆæ˜¯ "),s("code",[t._v("DOM")]),t._v(" ä¸­çš„ "),s("code",[t._v("addEventListener")])]),t._v(" "),s("li",[s("code",[t._v("replaceReducer(nextReducer)")]),t._v(" # ä¸€èˆ¬åœ¨ Webpack Code-Splitting æŒ‰éœ€åŠ è½½çš„æ—¶å€™ç”¨")])]),t._v(" "),s("p",[s("strong",[t._v("äºŒè€…çš„å…³ç³»æ˜¯ï¼š"),s("code",[t._v("state = store.getState()")])])]),t._v(" "),s("p",[t._v("Redux è§„å®šï¼Œä¸€ä¸ªåº”ç”¨åªåº”æœ‰ä¸€ä¸ª"),s("strong",[t._v("å•ä¸€çš„ store")]),t._v("ï¼Œå…¶ç®¡ç†ç€å”¯ä¸€çš„åº”ç”¨çŠ¶æ€ state\nRedux è¿˜è§„å®šï¼Œä¸èƒ½ç›´æ¥ä¿®æ”¹åº”ç”¨çš„çŠ¶æ€ stateï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸‹é¢çš„è¡Œä¸ºæ˜¯ä¸å…è®¸çš„ï¼š")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" state "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" store"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nstate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("counter "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("counter "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç¦æ­¢åœ¨ä¸šåŠ¡é€»è¾‘ä¸­ç›´æ¥ä¿®æ”¹ state")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[s("strong",[t._v("è‹¥è¦æ”¹å˜ stateï¼Œå¿…é¡» dispatch ä¸€ä¸ª actionï¼Œè¿™æ˜¯ä¿®æ”¹åº”ç”¨çŠ¶æ€çš„ä¸äºŒæ³•é—¨")])]),t._v(" "),s("p",[s("strong",[t._v("action åªæ˜¯ä¸€ä¸ªåŒ…å« type å±æ€§çš„æ™®é€šå¯¹è±¡å³å¯")]),t._v("ã€‚ä¾‹å¦‚ "),s("code",[t._v("{ type: 'INCREMENT' }")])]),t._v(" "),s("p",[t._v("ä¸Šé¢æåˆ°ï¼Œ"),s("code",[t._v("state")]),t._v(" æ˜¯é€šè¿‡ "),s("code",[t._v("store.getState()")]),t._v(" è·å–ï¼Œé‚£ä¹ˆ store åˆæ˜¯æ€ä¹ˆæ¥çš„å‘¢ï¼Ÿ\næƒ³ç”Ÿæˆä¸€ä¸ª "),s("code",[t._v("store")]),t._v("ï¼Œæˆ‘ä»¬éœ€è¦è°ƒç”¨ Redux çš„ "),s("code",[t._v("createStore")]),t._v("ï¼š")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" createStore "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'redux'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// store æ˜¯é ä¼ å…¥ reducer ç”Ÿæˆçš„å“¦ï¼")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" store "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createStore")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("reducer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" initialState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("p",[s("strong",[t._v("reducer æ˜¯ä¸€ä¸ª å‡½æ•°ï¼Œè´Ÿè´£æ›´æ–°å¹¶è¿”å›ä¸€ä¸ªæ–°çš„ state")]),t._v(",è€Œ initialState ä¸»è¦ç”¨äºå‰åç«¯åŒæ„çš„æ•°æ®åŒæ­¥ï¼ˆè¯¦æƒ…è¯·å…³æ³¨ React æœåŠ¡ç«¯æ¸²æŸ“ï¼‰")]),t._v(" "),s("h1",{attrs:{id:"_3-action"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-action"}},[t._v("ğŸŒ™")]),t._v(" 3.Action")]),t._v(" "),s("p",[s("strong",[t._v("actionï¼ˆåŠ¨ä½œï¼‰å®è´¨ä¸Šæ˜¯åŒ…å« type å±æ€§çš„æ™®é€šå¯¹è±¡")]),t._v("ï¼Œè¿™ä¸ª "),s("code",[t._v("type")]),t._v(" æ˜¯æˆ‘ä»¬å®ç°ç”¨æˆ·è¡Œä¸ºè¿½è¸ªçš„å…³é”®\nä¾‹å¦‚ï¼Œå¢åŠ ä¸€ä¸ªå¾…åŠäº‹é¡¹ çš„ "),s("code",[t._v("action")]),t._v(" å¯èƒ½æ˜¯åƒä¸‹é¢ä¸€æ ·ï¼š")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("{\n  type: 'ADD_TODO',\n  payload: {\n    id: 1,\n    content: 'å¾…åŠäº‹é¡¹1',\n    completed: false\n  }\n}\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("p",[t._v("åˆ¨æ ¹é—®åº•ï¼Œ"),s("code",[t._v("action")]),t._v(" æ˜¯è°ç”Ÿæˆçš„å‘¢ï¼Ÿ â€”â€” "),s("code",[t._v("Action Creator")])]),t._v(" "),s("p",[t._v("é¡¾åæ€ä¹‰ï¼Œ"),s("code",[t._v("Action Creator")]),t._v(" æ˜¯ action çš„åˆ›é€ è€…ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ª"),s("strong",[t._v("å‡½æ•°")]),t._v("ï¼Œè¿”å›å€¼æ˜¯ä¸€ä¸ª "),s("code",[t._v("action")]),t._v("ï¼ˆ"),s("strong",[t._v("å¯¹è±¡")]),t._v("ï¼‰\nä¾‹å¦‚ä¸‹é¢å°±æ˜¯ä¸€ä¸ª â€œæ–°å¢ä¸€ä¸ªå¾…åŠäº‹é¡¹â€ çš„ "),s("code",[t._v("Action Creator")]),t._v("ï¼š")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" id "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addTodo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("content")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ADD_TODO'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    payload"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      content"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" content"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¾…åŠäº‹é¡¹å†…å®¹")]),t._v("\n      completed"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ˜¯å¦å®Œæˆçš„æ ‡è¯†")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])]),s("h1",{attrs:{id:"_4-reducer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-reducer"}},[t._v("ğŸŒ™")]),t._v(" 4.Reducer")]),t._v(" "),s("p",[s("strong",[t._v("reducer çš„å®è´¨æ˜¯ä¸€ä¸ªå‡½æ•°")]),t._v("ï¼Œæ ¹æ® "),s("code",[t._v("action.type")]),t._v(" æ¥æ›´æ–° "),s("code",[t._v("state")]),t._v(" å¹¶è¿”å› "),s("code",[t._v("nextState")]),t._v(",æœ€åä¼šç”¨ "),s("code",[t._v("reducer")]),t._v(" çš„è¿”å›å€¼ "),s("code",[t._v("nextState")]),t._v(" å®Œå…¨æ›¿æ¢æ‰åŸæ¥çš„ "),s("code",[t._v("state")])]),t._v(" "),s("blockquote",[s("p",[t._v("æ³¨æ„ï¼šä¸Šé¢çš„è¿™ä¸ª â€œæ›´æ–°â€ å¹¶ä¸æ˜¯æŒ‡ "),s("code",[t._v("reducer")]),t._v(" å¯ä»¥ç›´æ¥å¯¹ "),s("code",[t._v("state")]),t._v(" è¿›è¡Œä¿®æ”¹\nRedux è§„å®šï¼Œé¡»å…ˆå¤åˆ¶ä¸€ä»½ "),s("code",[t._v("state")]),t._v("ï¼Œåœ¨å‰¯æœ¬ "),s("code",[t._v("nextState")]),t._v(" ä¸Šè¿›è¡Œä¿®æ”¹æ“ä½œ\nä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨ lodash çš„ "),s("code",[t._v("cloneDeep")]),t._v("ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ "),s("code",[t._v("Object.assign / map / filter/ ...")]),t._v(" ç­‰è¿”å›å‰¯æœ¬çš„å‡½æ•°")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" initState "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  counter"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  todos"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("reducer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" initState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" action")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("switch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("action"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ADD_TODO'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" nextState "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" _"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cloneDeep")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç”¨åˆ°äº† lodash çš„æ·±å…‹éš†")]),t._v("\n      nextState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("todos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("action"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("payload"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" nextState\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç”±äº nextState ä¼šæŠŠåŸ state æ•´ä¸ªæ›¿æ¢æ‰")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è‹¥æ— ä¿®æ”¹ï¼Œå¿…é¡»è¿”å›åŸ stateï¼ˆå¦åˆ™å°±æ˜¯ undefinedï¼‰")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" state\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br")])]),s("blockquote",[s("p",[t._v("é€šä¿—ç‚¹è®²ï¼Œå°±æ˜¯ "),s("code",[t._v("reducer")]),t._v(" è¿”å›å•¥ï¼Œ"),s("code",[t._v("state")]),t._v(" å°±è¢«æ›¿æ¢æˆå•¥")])]),t._v(" "),s("h1",{attrs:{id:"_5-redux-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-redux-api"}},[t._v("ğŸŒ™")]),t._v(" 5.Redux API")]),t._v(" "),s("blockquote",[s("p",[s("a",{attrs:{href:"https://github.com/kenberkeley/redux-simple-tutorial/blob/master/redux-advanced-tutorial.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("Redux API æ€»è§ˆ"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/kenberkeley/redux-simple-tutorial/blob/master/middleware-onion-model.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä¸­é—´ä»¶çš„æ´‹è‘±æ¨¡å‹"),s("OutboundLink")],1)])]),t._v(" "),s("p",[t._v("Redux æœ‰äº”ä¸ª APIï¼Œåˆ†åˆ«æ˜¯ï¼š")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("createStore(reducer, [initialState])")]),t._v(" åˆ›å»ºstore")]),t._v(" "),s("li",[s("code",[t._v("combineReducers(reducers)")]),t._v(" ç®¡ç†å¤šä¸ªreducer")]),t._v(" "),s("li",[s("code",[t._v("applyMiddleware(...middlewares)")]),t._v(" ç®¡ç†ä¸­é—´ä»¶ï¼Œå¦‚"),s("code",[t._v("redux-saga")])]),t._v(" "),s("li",[s("code",[t._v("bindActionCreators(actionCreators, dispatch)")]),t._v("å®ç°è‡ªåŠ¨ "),s("code",[t._v("dispatch")])]),t._v(" "),s("li",[s("code",[t._v("compose(...functions)")]),t._v("é«˜é˜¶å‡½æ•°")])]),t._v(" "),s("p",[s("code",[t._v("createStore")]),t._v(" ç”Ÿæˆçš„ "),s("code",[t._v("store")]),t._v(" æœ‰å››ä¸ª APIï¼Œåˆ†åˆ«æ˜¯ï¼š")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("getState()")])]),t._v(" "),s("li",[s("code",[t._v("dispatch(action)")])]),t._v(" "),s("li",[s("code",[t._v("subscribe(listener)")])]),t._v(" "),s("li",[s("code",[t._v("replaceReducer(nextReducer)")])])]),t._v(" "),s("h1",{attrs:{id:"å°ç»“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å°ç»“"}},[t._v("ğŸŒ™")]),t._v(" å°ç»“")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("store")]),t._v(" ç”± Redux çš„ "),s("code",[t._v("createStore(reducer)")]),t._v(" ç”Ÿæˆ")]),t._v(" "),s("li",[s("code",[t._v("state")]),t._v(" é€šè¿‡ "),s("code",[t._v("store.getState()")]),t._v(" è·å–ï¼Œæœ¬è´¨ä¸Šä¸€èˆ¬æ˜¯ä¸€ä¸ªå­˜å‚¨ç€æ•´ä¸ªåº”ç”¨çŠ¶æ€çš„å¯¹è±¡")]),t._v(" "),s("li",[s("code",[t._v("action")]),t._v(" æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªåŒ…å« "),s("code",[t._v("type")]),t._v(" å±æ€§çš„æ™®é€šå¯¹è±¡ï¼Œç”± "),s("code",[t._v("Action Creator")]),t._v(" (å‡½æ•°) äº§ç”Ÿ")]),t._v(" "),s("li",[t._v("æ”¹å˜ "),s("code",[t._v("state")]),t._v(" å¿…é¡» "),s("code",[t._v("dispatch")]),t._v(" ä¸€ä¸ª "),s("code",[t._v("action")])]),t._v(" "),s("li",[s("code",[t._v("reducer")]),t._v(" æœ¬è´¨ä¸Šæ˜¯æ ¹æ® "),s("code",[t._v("action.type")]),t._v(" æ¥æ›´æ–° "),s("code",[t._v("state")]),t._v(" å¹¶è¿”å› "),s("code",[t._v("nextState")]),t._v(" çš„å‡½æ•°")]),t._v(" "),s("li",[s("code",[t._v("reducer")]),t._v(" å¿…é¡»è¿”å›å€¼ï¼Œå¦åˆ™ "),s("code",[t._v("nextState")]),t._v(" å³ä¸º "),s("code",[t._v("undefined")])])]),t._v(" "),s("p",[t._v("å®é™…ä¸Šï¼Œ"),s("code",[t._v("state")]),t._v(" å°±æ˜¯æ‰€æœ‰ "),s("code",[t._v("reducer")]),t._v(" è¿”å›å€¼çš„æ±‡æ€»: "),s("code",[t._v("state + action = new state")])]),t._v(" "),s("blockquote",[s("p",[t._v("Action Creator => action => store.dispatch(action) => reducer(state, action) => åŸ state state = nextState")])]),t._v(" "),s("p",[s("strong",[t._v("Redux ä¸ä¼ ç»Ÿåç«¯ MVC çš„å¯¹ç…§")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Redux")]),t._v(" "),s("th",[t._v("ä¼ ç»Ÿåç«¯ MVC")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("store")])]),t._v(" "),s("td",[t._v("æ•°æ®åº“å®ä¾‹")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("state")])]),t._v(" "),s("td",[t._v("æ•°æ®åº“ä¸­å­˜å‚¨çš„æ•°æ®")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("dispatch(action)")])]),t._v(" "),s("td",[t._v("ç”¨æˆ·å‘èµ·è¯·æ±‚")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("action: { type, payload }")])]),t._v(" "),s("td",[s("code",[t._v("type")]),t._v(" è¡¨ç¤ºè¯·æ±‚çš„ URLï¼Œ"),s("code",[t._v("payload")]),t._v(" è¡¨ç¤ºè¯·æ±‚çš„æ•°æ®")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("reducer")])]),t._v(" "),s("td",[t._v("è·¯ç”± + æ§åˆ¶å™¨ï¼ˆhandlerï¼‰")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("reducer")]),t._v(" ä¸­çš„ "),s("code",[t._v("switch-case")]),t._v(" åˆ†æ”¯")]),t._v(" "),s("td",[t._v("è·¯ç”±ï¼Œæ ¹æ® "),s("code",[t._v("action.type")]),t._v(" è·¯ç”±åˆ°å¯¹åº”çš„æ§åˆ¶å™¨")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("reducer")]),t._v(" å†…éƒ¨å¯¹ "),s("code",[t._v("state")]),t._v(" çš„å¤„ç†")]),t._v(" "),s("td",[t._v("æ§åˆ¶å™¨å¯¹æ•°æ®åº“è¿›è¡Œå¢åˆ æ”¹æ“ä½œ")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("reducer")]),t._v(" è¿”å› "),s("code",[t._v("nextState")])]),t._v(" "),s("td",[t._v("å°†ä¿®æ”¹åçš„è®°å½•å†™å›æ•°æ®åº“")])])])]),t._v(" "),s("blockquote",[s("p",[s("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2016/09/redux_tutorial_part_one_basic_usages.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Redux å…¥é—¨æ•™ç¨‹ï¼ˆä¸€ï¼‰ï¼šåŸºæœ¬ç”¨æ³•"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2016/09/redux_tutorial_part_two_async_operations.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Redux å…¥é—¨æ•™ç¨‹ï¼ˆäºŒï¼‰ï¼šä¸­é—´ä»¶ä¸å¼‚æ­¥æ“ä½œ"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://redux-saga-in-chinese.js.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä¸­æ–‡å®˜ç½‘ï¼šredux-saga"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://www.jianshu.com/p/6f96bdaaea22",target:"_blank",rel:"noopener noreferrer"}},[t._v("ç®€ä¹¦ï¼šRedux-saga"),s("OutboundLink")],1)])]),t._v(" "),s("iframe",{attrs:{src:"http://cn.redux.js.org/",width:"100%",height:"666px"}}),t._v("\n[Redux ä¸­æ–‡æ–‡æ¡£](https://cn.redux.js.org/)\n")])}),[],!1,null,null,null);e.default=n.exports}}]);